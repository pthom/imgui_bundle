# Feature Name — Spec

## Goals
Improve the instructions for Claude so that we can better work together.

This spec is not complete yet. I will dump my ideas here, and reword later.

**Look for possible improvements in the report**
file:///Users/pascal/.claude/usage-data/report.html

**Compilation and multiplatform** 
Infos / compilation for several platform and cases / disable opencv for speed / see CI yml
=> inside dev doc (docs/book/devel_docs) or claude.md, or both?

"I want you to act as a cross-platform build guardian. After every code edit I make, automatically: 1) Run the build for all configured targets (desktop, Emscripten, iOS) using the project's CMake presets, 2) If any build fails, diagnose the root cause by reading the error and the changed files, 3) Propose a minimal fix without removing includes or definitions that other targets need, 4) Verify the fix compiles on ALL targets before presenting it. Start by reading CMakeLists.txt and identifying all build configurations, then set up a bash loop to validate the curent state."

**Testing**
Info / testing, how to see the screen.
=> inside dev doc (docs/book/devel_docs) or claude.md, or both?


**Skill: Commit message**
Review all staged changes with `git diff --cached`. Write a concise commit message following conventional commits format. Show the message for approval before committing.

**Skill: Porting C++ demo code to Python**
"I need to port remaining C++ demo functions to Python. Here's the workflow for each function: 1) Use Grep to find all unported IMGUI_DEMO_MARKER entries by comparing C++ markers against existing Python demos, 2) For each missing function, spawn a sub-task that: reads the C++ implementation, converts it to idiomatic Python using our bindings API, use the same exact demo marker (at the same location) and writes the stub if the function uses unportable features like drag-and-drop, 3) After all conversions, run the Python demo module to verify no import or syntax errors. List all unported functions first, then begin parallel conversion."

**Instructions for large refactors**
I need a large refactor done safely across the codebase. Follow this protocol strictly: 1) Create a new git branch 'refactor/[descriptive-name]', 2) Before ANY changes, read all affected files and write a numbered plan as a markdown checklist, 3) For each step: make the edit, run the build AND tests, if they pass commit with a descriptive message, if they fail IMMEDIATELY git checkout the failed file and try an alternative approach — never stack broken changes, 4) If you find yourself going down a wrong path (e.g., editing autogenerated files, removing headers other modules need), stop and reassess before continuing, 5) After all steps pass, show me a git log --oneline of the branch and a summary of what changed. Begin by asking me what refactor I need, then explore the codebase before proposing the pla

=> to re-read. Should we add this to claude.md.

## Context
<!-- Background, motivation, related code/files -->

## Requirements
<!-- What must be true when this is done? -->
-
-

## Non-goals
<!-- Explicitly out of scope -->

## Open questions
<!-- Unresolved decisions before implementation can start -->